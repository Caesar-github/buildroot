From 96f0aa31bfda39a6af924f498e1a792338677922 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Tim-Philipp=20M=C3=BCller?= <tim@centricular.com>
Date: Sat, 28 Apr 2018 14:50:11 +0100
Subject: [PATCH 03/45] gst-libs: include config.h in all source files

This will be needed later when we get our export define from config.h

(cherry picked from commit ca15315565912172b2dec5c3e7887e34dc4f8ccf)
Signed-off-by: Jeffy Chen <jeffy.chen@rock-chips.com>
---
 gst-libs/gst/audio/audio-quantize.c                   | 3 +++
 gst-libs/gst/audio/gstaudiobasesink.c                 | 3 +++
 gst-libs/gst/audio/gstaudiometa.c                     | 3 +++
 gst-libs/gst/audio/gstaudioringbuffer.c               | 3 +++
 gst-libs/gst/audio/gstaudiosink.c                     | 3 +++
 gst-libs/gst/audio/gstaudiosrc.c                      | 3 +++
 gst-libs/gst/gl/egl/gstegl.c                          | 3 +++
 gst-libs/gst/gl/gbm/gstglwindow_gbm_egl.c             | 3 +++
 gst-libs/gst/pbutils/gstpluginsbaseversion.c          | 3 +++
 gst-libs/gst/rtp/gstrtcpbuffer.c                      | 3 +++
 gst-libs/gst/rtp/gstrtpbasedepayload.c                | 3 +++
 gst-libs/gst/rtp/gstrtpbuffer.c                       | 3 +++
 gst-libs/gst/rtp/gstrtphdrext.c                       | 3 +++
 gst-libs/gst/rtp/gstrtppayloads.c                     | 3 +++
 gst-libs/gst/rtsp/gstrtspmessage.c                    | 3 +++
 gst-libs/gst/rtsp/gstrtsprange.c                      | 3 +++
 gst-libs/gst/rtsp/gstrtsptransport.c                  | 3 +++
 gst-libs/gst/rtsp/gstrtspurl.c                        | 3 +++
 gst-libs/gst/sdp/gstmikey.c                           | 3 +++
 gst-libs/gst/tag/gsttageditingprivate.c               | 3 +++
 gst-libs/gst/video/convertframe.c                     | 3 +++
 gst-libs/gst/video/gstvideoaffinetransformationmeta.c | 3 +++
 gst-libs/gst/video/gstvideometa.c                     | 3 +++
 gst-libs/gst/video/gstvideopool.c                     | 3 +++
 gst-libs/gst/video/gstvideotimecode.c                 | 3 +++
 gst-libs/gst/video/video-dither.c                     | 3 +++
 gst-libs/gst/video/video-event.c                      | 3 +++
 gst-libs/gst/video/video-tile.c                       | 3 +++
 28 files changed, 84 insertions(+)

diff --git a/gst-libs/gst/audio/audio-quantize.c b/gst-libs/gst/audio/audio-quantize.c
index 5ac5460..8c62717 100644
--- a/gst-libs/gst/audio/audio-quantize.c
+++ b/gst-libs/gst/audio/audio-quantize.c
@@ -25,6 +25,9 @@
  *         generated by dmaker
  *         http://shibatch.sf.net
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <gst/gst.h>
 #include <string.h>
diff --git a/gst-libs/gst/audio/gstaudiobasesink.c b/gst-libs/gst/audio/gstaudiobasesink.c
index ff4e4e2..1256e9c 100644
--- a/gst-libs/gst/audio/gstaudiobasesink.c
+++ b/gst-libs/gst/audio/gstaudiobasesink.c
@@ -30,6 +30,9 @@
  * ::create_ringbuffer vmethod. This base class will then take care of
  * writing samples to the ringbuffer, synchronisation, clipping and flushing.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/audio/gstaudiometa.c b/gst-libs/gst/audio/gstaudiometa.c
index e7da037..83b9018 100644
--- a/gst-libs/gst/audio/gstaudiometa.c
+++ b/gst-libs/gst/audio/gstaudiometa.c
@@ -26,6 +26,9 @@
  * audio buffers. These functions in this module help to create and attach the
  * meta as well as extracting it.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/audio/gstaudioringbuffer.c b/gst-libs/gst/audio/gstaudioringbuffer.c
index 991b774..90d0cac 100644
--- a/gst-libs/gst/audio/gstaudioringbuffer.c
+++ b/gst-libs/gst/audio/gstaudioringbuffer.c
@@ -33,6 +33,9 @@
  * implementations.
  *
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/audio/gstaudiosink.c b/gst-libs/gst/audio/gstaudiosink.c
index cc7b791..4325f71 100644
--- a/gst-libs/gst/audio/gstaudiosink.c
+++ b/gst-libs/gst/audio/gstaudiosink.c
@@ -48,6 +48,9 @@
  * together with #GstAudioBaseSink using a default implementation of a
  * #GstAudioRingBuffer that uses threads.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/audio/gstaudiosrc.c b/gst-libs/gst/audio/gstaudiosrc.c
index 008921f..16b090c 100644
--- a/gst-libs/gst/audio/gstaudiosrc.c
+++ b/gst-libs/gst/audio/gstaudiosrc.c
@@ -41,6 +41,9 @@
  * together with #GstAudioBaseSrc using a default implementation of a
  * #GstAudioRingBuffer that uses threads.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/gl/egl/gstegl.c b/gst-libs/gst/gl/egl/gstegl.c
index 9f455e5..9d7b83f 100644
--- a/gst-libs/gst/gl/egl/gstegl.c
+++ b/gst-libs/gst/gl/egl/gstegl.c
@@ -17,6 +17,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <gst/gl/egl/gstegl.h>
 
diff --git a/gst-libs/gst/gl/gbm/gstglwindow_gbm_egl.c b/gst-libs/gst/gl/gbm/gstglwindow_gbm_egl.c
index 0d68b92..ec24ef3 100644
--- a/gst-libs/gst/gl/gbm/gstglwindow_gbm_egl.c
+++ b/gst-libs/gst/gl/gbm/gstglwindow_gbm_egl.c
@@ -17,6 +17,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <poll.h>
 
diff --git a/gst-libs/gst/pbutils/gstpluginsbaseversion.c b/gst-libs/gst/pbutils/gstpluginsbaseversion.c
index 3b6f9ea..d4075b2 100644
--- a/gst-libs/gst/pbutils/gstpluginsbaseversion.c
+++ b/gst-libs/gst/pbutils/gstpluginsbaseversion.c
@@ -29,6 +29,9 @@
  *
  * The version macros get defined by including &lt;gst/pbutils/pbutils.h&gt;.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gstpluginsbaseversion.h"
 
diff --git a/gst-libs/gst/rtp/gstrtcpbuffer.c b/gst-libs/gst/rtp/gstrtcpbuffer.c
index 5a858c7..ce0b91f 100644
--- a/gst-libs/gst/rtp/gstrtcpbuffer.c
+++ b/gst-libs/gst/rtp/gstrtcpbuffer.c
@@ -38,6 +38,9 @@
  * gst_rtcp_packet_move_to_next().
  *
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/rtp/gstrtpbasedepayload.c b/gst-libs/gst/rtp/gstrtpbasedepayload.c
index 8773cee..2a9259a 100644
--- a/gst-libs/gst/rtp/gstrtpbasedepayload.c
+++ b/gst-libs/gst/rtp/gstrtpbasedepayload.c
@@ -25,6 +25,9 @@
  *
  * Provides a base class for RTP depayloaders
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gstrtpbasedepayload.h"
 
diff --git a/gst-libs/gst/rtp/gstrtpbuffer.c b/gst-libs/gst/rtp/gstrtpbuffer.c
index 1768392..fb4f573 100644
--- a/gst-libs/gst/rtp/gstrtpbuffer.c
+++ b/gst-libs/gst/rtp/gstrtpbuffer.c
@@ -29,6 +29,9 @@
  * 'application/x-rtp' #GstCaps.
  *
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gstrtpbuffer.h"
 
diff --git a/gst-libs/gst/rtp/gstrtphdrext.c b/gst-libs/gst/rtp/gstrtphdrext.c
index 5d483c1..f653f2f 100644
--- a/gst-libs/gst/rtp/gstrtphdrext.c
+++ b/gst-libs/gst/rtp/gstrtphdrext.c
@@ -24,6 +24,9 @@
  * @see_also: #GstRTPBasePayload, #GstRTPBaseDepayload, gstrtpbuffer
  *
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gstrtphdrext.h"
 
diff --git a/gst-libs/gst/rtp/gstrtppayloads.c b/gst-libs/gst/rtp/gstrtppayloads.c
index 702cceb..2c41782 100644
--- a/gst-libs/gst/rtp/gstrtppayloads.c
+++ b/gst-libs/gst/rtp/gstrtppayloads.c
@@ -31,6 +31,9 @@
  * and get session bandwidth information.
  *
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/rtsp/gstrtspmessage.c b/gst-libs/gst/rtsp/gstrtspmessage.c
index 67bdd49..fb4b651 100644
--- a/gst-libs/gst/rtsp/gstrtspmessage.c
+++ b/gst-libs/gst/rtsp/gstrtspmessage.c
@@ -50,6 +50,9 @@
  *
  * Provides methods for creating and parsing request, response and data messages.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/rtsp/gstrtsprange.c b/gst-libs/gst/rtsp/gstrtsprange.c
index 624fc71..ef41c8a 100644
--- a/gst-libs/gst/rtsp/gstrtsprange.c
+++ b/gst-libs/gst/rtsp/gstrtsprange.c
@@ -47,6 +47,9 @@
  *
  * Provides helper functions to deal with time ranges.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <math.h>
 #include <stdio.h>
diff --git a/gst-libs/gst/rtsp/gstrtsptransport.c b/gst-libs/gst/rtsp/gstrtsptransport.c
index 8976ba4..51be5f9 100644
--- a/gst-libs/gst/rtsp/gstrtsptransport.c
+++ b/gst-libs/gst/rtsp/gstrtsptransport.c
@@ -48,6 +48,9 @@
  *
  * Provides helper functions to deal with RTSP transport strings.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 #include <stdlib.h>
diff --git a/gst-libs/gst/rtsp/gstrtspurl.c b/gst-libs/gst/rtsp/gstrtspurl.c
index 9ae15ca..dfb76df 100644
--- a/gst-libs/gst/rtsp/gstrtspurl.c
+++ b/gst-libs/gst/rtsp/gstrtspurl.c
@@ -47,6 +47,9 @@
  *
  * Provides helper functions to handle RTSP urls.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <stdlib.h>
 #include <string.h>
diff --git a/gst-libs/gst/sdp/gstmikey.c b/gst-libs/gst/sdp/gstmikey.c
index 3e99951..7117f98 100644
--- a/gst-libs/gst/sdp/gstmikey.c
+++ b/gst-libs/gst/sdp/gstmikey.c
@@ -29,6 +29,9 @@
  *
  * Since: 1.4
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/tag/gsttageditingprivate.c b/gst-libs/gst/tag/gsttageditingprivate.c
index 0d18e89..db531f6 100644
--- a/gst-libs/gst/tag/gsttageditingprivate.c
+++ b/gst-libs/gst/tag/gsttageditingprivate.c
@@ -16,6 +16,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gsttageditingprivate.h"
 
diff --git a/gst-libs/gst/video/convertframe.c b/gst-libs/gst/video/convertframe.c
index 61e9c1a..faaba3a 100644
--- a/gst-libs/gst/video/convertframe.c
+++ b/gst-libs/gst/video/convertframe.c
@@ -18,6 +18,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 #include "video.h"
diff --git a/gst-libs/gst/video/gstvideoaffinetransformationmeta.c b/gst-libs/gst/video/gstvideoaffinetransformationmeta.c
index 083d1c4..1398044 100644
--- a/gst-libs/gst/video/gstvideoaffinetransformationmeta.c
+++ b/gst-libs/gst/video/gstvideoaffinetransformationmeta.c
@@ -18,6 +18,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gstvideoaffinetransformationmeta.h"
 
diff --git a/gst-libs/gst/video/gstvideometa.c b/gst-libs/gst/video/gstvideometa.c
index be83374..0faf9b4 100644
--- a/gst-libs/gst/video/gstvideometa.c
+++ b/gst-libs/gst/video/gstvideometa.c
@@ -16,6 +16,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gstvideometa.h"
 
diff --git a/gst-libs/gst/video/gstvideopool.c b/gst-libs/gst/video/gstvideopool.c
index b6d2dea..d02bc54 100644
--- a/gst-libs/gst/video/gstvideopool.c
+++ b/gst-libs/gst/video/gstvideopool.c
@@ -16,6 +16,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "gst/video/gstvideometa.h"
 #include "gst/video/gstvideopool.h"
diff --git a/gst-libs/gst/video/gstvideotimecode.c b/gst-libs/gst/video/gstvideotimecode.c
index e795578..3dde190 100644
--- a/gst-libs/gst/video/gstvideotimecode.c
+++ b/gst-libs/gst/video/gstvideotimecode.c
@@ -16,6 +16,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <stdio.h>
 #include "gstvideotimecode.h"
diff --git a/gst-libs/gst/video/video-dither.c b/gst-libs/gst/video/video-dither.c
index 3f5e6bd..3f244a4 100644
--- a/gst-libs/gst/video/video-dither.c
+++ b/gst-libs/gst/video/video-dither.c
@@ -16,6 +16,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <string.h>
 
diff --git a/gst-libs/gst/video/video-event.c b/gst-libs/gst/video/video-event.c
index 0cbd400..4533703 100644
--- a/gst-libs/gst/video/video-event.c
+++ b/gst-libs/gst/video/video-event.c
@@ -18,6 +18,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include "video-event.h"
 
diff --git a/gst-libs/gst/video/video-tile.c b/gst-libs/gst/video/video-tile.c
index dd40ee6..e22a24d 100644
--- a/gst-libs/gst/video/video-tile.c
+++ b/gst-libs/gst/video/video-tile.c
@@ -16,6 +16,9 @@
  * Free Software Foundation, Inc., 51 Franklin St, Fifth Floor,
  * Boston, MA 02110-1301, USA.
  */
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
 
 #include <gst/video/video-tile.h>
 
-- 
2.20.1

